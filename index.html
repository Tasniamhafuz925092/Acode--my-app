<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BULLPEN APP</title>
  <style>
    body {font-family: Arial, sans-serif;text-align: center;margin: 0;padding: 0;background: #f1f5f9;}
    header {background: #2563eb;color: white;padding: 15px;font-size: 20px;font-weight: bold;}
    .container {padding: 20px;}
    .card {background: white;margin: 15px auto;padding: 15px;border-radius: 12px;
           box-shadow: 0 4px 6px rgba(0,0,0,0.1);max-width: 350px;}
    button {padding: 10px 15px;margin: 5px;border: none;border-radius: 8px;
            cursor: pointer;background: #2563eb;color: white;font-size: 16px;}
    button:disabled {background: gray;}
    nav {position: fixed;bottom: 0;left: 0;right: 0;background: white;
         display: flex;justify-content: space-around;padding: 10px 0;border-top: 1px solid #ddd;}
    nav button {flex: 1;margin: 0 5px;}
    input, select {padding: 8px;margin: 5px;border-radius: 6px;border: 1px solid #ddd;width: 80%;}
  </style>
</head>
<body>

<header>BULLPEN APP</header>

<!-- Home -->
<div class="container" id="home">
  <div class="card">
    <h3>Deposit</h3>
    <label>Select Amount:</label><br>
    <select id="depositAmount">
      <option value="100">100</option>
      <option value="200">200</option>
      <option value="500">500</option>
      <option value="1000">1000</option>
    </select><br><br>
    <label>Method:</label><br>
    <select id="depositMethod">
      <option value="bkash">bKash</option>
      <option value="nagad">Nagad</option>
    </select><br><br>
    <button onclick="deposit()">Deposit</button>
  </div>

  <div class="card">
    <h3>Withdraw</h3>
    <input type="number" id="withdrawAmount" placeholder="Enter Amount"><br><br>
    <select id="withdrawMethod">
      <option value="bkash">bKash</option>
      <option value="nagad">Nagad</option>
    </select><br><br>
    <button onclick="withdraw()">Withdraw</button>
  </div>

  <div class="card">
    <h3>Daily Check-in Bonus</h3>
    <p>Deposit করার পর প্রতিদিন একবার 10% বোনাস পাবেন।</p>
    <button id="checkInBtn" onclick="checkIn()" disabled>Check In</button>
  </div>
</div>

<!-- Profile -->
<div class="container" id="profile" style="display:none;">
  <div class="card">
    <h3>My Profile</h3>
    <p><b>Balance:</b> <span id="balance">0</span> ৳</p>
    <p><b>Daily Income:</b> 40 ৳</p>
  </div>
</div>

<!-- Refer -->
<div class="container" id="refer" style="display:none;">
  <div class="card">
    <h3>Refer & Earn</h3>
    <p>Refer link:</p>
    <input type="text" id="referLink" value="https://yourapp.com/ref123" readonly style="width:100%;"><br><br>
    <button onclick="copyLink()">Copy Link</button>
    <button onclick="shareWhatsApp()">WhatsApp</button>
    <button onclick="shareEmail()">Email</button>
    <button onclick="shareMessenger()">Messenger</button>
    <p><b>Refer Bonus:</b> 10% (once, on first deposit)</p>
  </div>
</div>

<!-- Admin Section -->
<div class="container" id="admin" style="display:none;">
  <div class="card">
    <h3>Admin Panel</h3>
    <p>Pending Deposits:</p>
    <div id="pendingList">No pending deposits</div><br>
    <input type="text" id="txnId" placeholder="Enter Transaction ID"><br>
    <button onclick="approveDeposit()">Mark Successful</button>
  </div>
</div>

<nav>
  <button onclick="showPage('home')">Home</button>
  <button onclick="showPage('profile')">Profile</button>
  <button onclick="showPage('refer')">Refer</button>
  <button onclick="showPage('admin')">Admin</button>
</nav>

<script>
  let balance = 0;
  let lastCheckIn = null;
  let hasDeposited = false;
  let dailyIncomeStarted = false;
  let referBonusGiven = false;
  let pendingDeposit = {amount: 0, status: "none", txnId: ""};

  function showPage(page) {
    document.getElementById("home").style.display = "none";
    document.getElementById("profile").style.display = "none";
    document.getElementById("refer").style.display = "none";
    document.getElementById("admin").style.display = "none";
    document.getElementById(page).style.display = "block";
  }

  function deposit() {
    let amount = parseInt(document.getElementById("depositAmount").value);
    let method = document.getElementById("depositMethod").value;
    window.location.href = "https://t.me/yourtelegram"; 

    pendingDeposit.amount = amount;
    pendingDeposit.status = "pending";
    pendingDeposit.txnId = "TXN" + Math.floor(Math.random()*100000);
    document.getElementById("pendingList").innerHTML = 
      `<p>TxnID: ${pendingDeposit.txnId} | Amount: ${amount}৳ | Status: Pending</p>`;
    alert("Transaction pending... Submit TxnID to Admin.");
  }

  function approveDeposit() {
    let adminInput = document.getElementById("txnId").value;
    if (pendingDeposit.status === "pending" && adminInput === pendingDeposit.txnId) {
      pendingDeposit.status = "success";
      balance += pendingDeposit.amount;
      hasDeposited = true;
      document.getElementById("balance").innerText = balance;
      document.getElementById("checkInBtn").disabled = false;

      // start daily income
      if (!dailyIncomeStarted) {
        setInterval(() => {
          balance += 40;
          document.getElementById("balance").innerText = balance;
        }, 24*60*60*1000); // প্রতি 24 ঘন্টায় একবার 40৳
        dailyIncomeStarted = true;
      }

      // Refer bonus once
      if (!referBonusGiven) {
        let bonus = pendingDeposit.amount * 0.10;
        balance += bonus;
        referBonusGiven = true;
        alert("Refer bonus added: " + bonus + "৳");
      }

      document.getElementById("pendingList").innerHTML = `<p>TxnID: ${pendingDeposit.txnId} | Amount: ${pendingDeposit.amount}৳ | Status: Successful</p>`;
      alert("Deposit approved successfully!");
    } else {
      alert("Invalid Transaction ID!");
    }
  }

  function withdraw() {
    let amount = parseInt(document.getElementById("withdrawAmount").value);
    if (amount <= balance) {
      balance -= amount;
      document.getElementById("balance").innerText = balance;
      window.location.href = "https://t.me/yourtelegram"; 
    } else {
      alert("Not enough balance!");
    }
  }

  function checkIn() {
    if (!hasDeposited) {
      alert("First deposit required!");
      return;
    }
    let today = new Date().toDateString();
    if (lastCheckIn === today) {
      alert("Already checked in today!");
      return;
    }
    let bonus = pendingDeposit.amount * 0.10;
    balance += bonus;
    lastCheckIn = today;
    document.getElementById("balance").innerText = balance;
    alert("Check-in bonus added: " + bonus + "৳");
  }

  function copyLink() {
    let link = document.getElementById("referLink");
    link.select();
    document.execCommand("copy");
    alert("Link copied!");
  }

  function shareWhatsApp() {
    let link = document.getElementById("referLink").value;
    window.open("https://wa.me/?text=" + encodeURIComponent(link));
  }

  function shareEmail() {
    let link = document.getElementById("referLink").value;
    window.open("mailto:?subject=Join%20Now&body=" + encodeURIComponent(link));
  }

  function shareMessenger() {
    let link = document.getElementById("referLink").value;
    window.open("fb-messenger://share?link=" + encodeURIComponent(link));
  }
</script>

</body>
</html>

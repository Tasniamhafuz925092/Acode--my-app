<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BULLPEN</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #e3f2fd; margin:0; padding:0;}
  h1 { margin-top: 20px; color:#2196f3; }
  .container { max-width: 500px; margin: 20px auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
  button { padding:12px 25px; margin:8px; border:none; border-radius:8px; cursor:pointer; background:#2196f3; color:#fff; font-size:16px;}
  button:hover { background:#1976d2;}
  input, select { padding:12px; margin:8px; width:90%; border-radius:8px; border:1px solid #ccc; font-size:16px;}
  .balance { font-size:22px; margin:15px 0; font-weight:bold;}
  .hidden { display:none; }
</style>
</head>
<body>

<h1>BULLPEN</h1>
<div class="container">
  <div class="balance">Balance: <span id="balance">0</span> Taka</div>
  
  <button onclick="showDeposit()">Deposit</button>
  <button onclick="showWithdraw()">Withdraw</button>
  <button onclick="showCheckin()">Check-in</button>
  <button onclick="showRefer()">Refer</button>

  <!-- Deposit Section -->
  <div id="depositDiv" class="hidden">
    <h3>Deposit</h3>
    <input type="number" id="depositAmount" placeholder="Amount (100-1000 Taka)" min="100" max="1000"><br>
    <select id="paymentMethod">
      <option value="">Select Payment Method</option>
      <option value="bkash">bKash</option>
      <option value="nagad">Nagad</option>
    </select><br>
    <button onclick="goToTelegram()">Proceed to Telegram</button>
    <div id="txnDiv" class="hidden">
      <input type="text" id="txnId" placeholder="Enter Transaction ID"><br>
      <button onclick="confirmDeposit()">Confirm Deposit</button>
    </div>
  </div>

  <!-- Withdraw Section -->
  <div id="withdrawDiv" class="hidden">
    <h3>Withdraw</h3>
    <input type="number" id="withdrawAmount" placeholder="Amount (Taka)"><br>
    <select id="withdrawMethod">
      <option value="">Select Method</option>
      <option value="bkash">bKash</option>
      <option value="nagad">Nagad</option>
    </select><br>
    <button onclick="confirmWithdraw()">Withdraw</button>
  </div>

  <!-- Check-in Section -->
  <div id="checkinDiv" class="hidden">
    <h3>Check-in</h3>
    <button onclick="dailyCheckin()">Check-in for 10% Bonus</button>
  </div>

  <!-- Refer Section -->
  <div id="referDiv" class="hidden">
    <h3>Refer & Earn</h3>
    <input type="text" id="refLink" readonly value="https://yourwebsite.com/?ref=USER123"><br>
    <button onclick="copyRefer()">Copy Referral Link</button>
  </div>
</div>

<script>
let balance = 0;
let depositMadeToday = false;
let lastCheckinDate = null;

// Show/Hide Sections
function showDeposit(){ hideAll(); document.getElementById('depositDiv').classList.remove('hidden'); }
function showWithdraw(){ hideAll(); document.getElementById('withdrawDiv').classList.remove('hidden'); }
function showCheckin(){ hideAll(); document.getElementById('checkinDiv').classList.remove('hidden'); }
function showRefer(){ hideAll(); document.getElementById('referDiv').classList.remove('hidden'); }
function hideAll(){
  document.getElementById('depositDiv').classList.add('hidden');
  document.getElementById('withdrawDiv').classList.add('hidden');
  document.getElementById('checkinDiv').classList.add('hidden');
  document.getElementById('referDiv').classList.add('hidden');
}

// Deposit Flow
function goToTelegram(){
  const amount = document.getElementById('depositAmount').value;
  const method = document.getElementById('paymentMethod').value;
  if(amount < 100 || amount > 1000){ alert('Amount must be 100-1000 Taka'); return; }
  if(!method){ alert('Select a payment method'); return; }
  
  alert(`You will be redirected to Telegram to pay via ${method}`);
  window.open('https://t.me/Bullpenpofficial', '_blank'); // Telegram bot link
  
  document.getElementById('txnDiv').classList.remove('hidden');
}

function confirmDeposit(){
  const txnId = document.getElementById('txnId').value.trim();
  const amount = parseFloat(document.getElementById('depositAmount').value);
  if(!txnId){ alert('Enter Transaction ID'); return; }
  
  // Admin manually confirms here. For demo, auto confirm
  const confirmed = true;
  if(confirmed){
    const bonus = amount * 0.4; // 40% bonus
    balance += amount + bonus;
    document.getElementById('balance').innerText = balance.toFixed(2);
    alert(`Deposit Successful! Amount + 40% Bonus added. Total: ${balance.toFixed(2)} Taka`);
    depositMadeToday = true;
    
    // Reset fields
    document.getElementById('depositAmount').value = '';
    document.getElementById('paymentMethod').value = '';
    document.getElementById('txnId').value = '';
    document.getElementById('txnDiv').classList.add('hidden');
  }
}

// Withdraw
function confirmWithdraw(){
  const amount = parseFloat(document.getElementById('withdrawAmount').value);
  if(amount > balance){ alert('Insufficient balance'); return; }
  const method = document.getElementById('withdrawMethod').value;
  if(!method){ alert('Select method'); return; }
  balance -= amount;
  document.getElementById('balance').innerText = balance.toFixed(2);
  alert(`Withdrawn ${amount} Taka via ${method}`);
}

// Check-in Bonus
function dailyCheckin(){
  const today = new Date().toDateString();
  if(lastCheckinDate === today){ alert('Already checked in today'); return; }
  if(!depositMadeToday){ alert('You need to deposit first today to check-in'); return; }
  const checkinBonus = balance * 0.1; // 10% of current balance
  balance += checkinBonus;
  document.getElementById('balance').innerText = balance.toFixed(2);
  lastCheckinDate = today;
  alert(`Check-in Successful! 10% Bonus added: ${checkinBonus.toFixed(2)} Taka`);
}

// Refer System
function copyRefer(){
  const refLink = document.getElementById('refLink');
  refLink.select();
  refLink.setSelectionRange(0, 99999);
  navigator.clipboard.writeText(refLink.value);
  alert('Referral link copied!');
}
</script>

</body>
</html>

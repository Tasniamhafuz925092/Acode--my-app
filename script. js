document.addEventListener("DOMContentLoaded", () => {
  const navLinks = document.querySelectorAll(".navbar a");
  const pages = document.querySelectorAll(".page");
  const actionBtns = document.querySelectorAll(".action-btn");

  // Bottom Nav
  navLinks.forEach(link => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      showPage(link.getAttribute("data-page"));
      setActiveNav(link);
    });
  });

  // Action buttons (Withdraw/Deposit from Home)
  actionBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      const target = btn.getAttribute("data-page");
      if (target) {
        showPage(target);
      }
    });
  });

  // Copy referral link
  const copyBtn = document.getElementById("copyLink");
  if (copyBtn) {
    copyBtn.addEventListener("click", () => {
      const refInput = document.getElementById("refLink");
      refInput.select();
      document.execCommand("copy");
      alert("Referral link copied!");
    });
  }

  // Send Money Button
  const sendMoneyBtn = document.getElementById("sendMoney");
  if (sendMoneyBtn) {
    sendMoneyBtn.addEventListener("click", () => {
      const number = document.getElementById("bkashNumber").value;
      const amount = document.getElementById("amount").value;
      if (number && amount) {
        alert(`৳${amount} sent to ${number} successfully ✅`);
      } else {
        alert("দয়া করে নাম্বার আর টাকা লিখুন!");
      }
    });
  }

  // Helper Functions
  function showPage(id) {
    pages.forEach(p => p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  }
  function setActiveNav(activeLink) {
    navLinks.forEach(l => l.classList.remove("active"));
    activeLink.classList.add("active");
  }
});
